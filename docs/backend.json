
{
  "entities": {
    "userProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "role": {
          "type": "string",
          "description": "The user's role in the organization."
        },
        "department": {
          "type": "string",
          "description": "The department the user belongs to."
        },
        "status": {
          "type": "string",
          "description": "The user's current status (e.g., 'online', 'offline', 'last seen...')."
        },
        "country": {
            "type": "string",
            "description": "The country the user is located in."
        },
        "branch": {
            "type": "string",
            "description": "The specific branch or office the user works from."
        }
      },
      "required": ["name", "role", "department", "status"]
    },
    "chatMessage": {
      "title": "Chat Message",
      "description": "Represents a single message in a chat conversation.",
      "type": "object",
      "properties": {
        "senderId": {
          "type": "string"
        },
        "recipientId": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "readStatus": {
          "type": "string",
          "enum": ["sent", "delivered", "read"]
        },
        "isSystem": {
            "type": "boolean"
        },
        "type": {
            "type": "string",
            "enum": ["text", "audio", "image", "file"]
        },
        "audioUrl": { "type": "string" },
        "audioDuration": { "type": "number" },
        "imageUrls": {
            "type": "array",
            "items": { "type": "string" }
        },
        "fileName": { "type": "string" },
        "fileUrl": { "type": "string" },
        "replyTo": { "type": "string" },
        "callType": {
            "type": "string",
            "enum": ["video", "voice"]
        }
      },
      "required": ["senderId", "recipientId", "content", "timestamp", "type"]
    },
    "call": {
      "title": "Call Record",
      "description": "Represents a voice or video call.",
      "type": "object",
      "properties": {
        "callerId": { "type": "string" },
        "recipientId": { "type": "string" },
        "status": { "type": "string", "enum": ["ringing", "active", "ended", "declined", "missed"] },
        "type": { "type": "string", "enum": ["voice", "video"] },
        "createdAt": { "type": "string", "format": "date-time" },
        "endedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["callerId", "recipientId", "status", "type", "createdAt"]
    },
    "activeChats": {
        "title": "Active Chats",
        "description": "A document to track which chat conversations are active.",
        "type": "object",
        "properties": {
            "ids": {
                "type": "array",
                "items": { "type": "string" }
            }
        },
        "required": ["ids"]
    },
    "todo": {
      "title": "To-Do Item",
      "description": "Represents a single to-do item or task for a user.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name or title of the task."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the task."
        },
        "status": {
          "type": "string",
          "enum": ["Pending", "In Progress", "Completed"]
        },
        "dueDate": {
          "type": "string",
          "format": "date"
        },
        "startTime": {
          "type": "string",
          "format": "date-time"
        },
        "endTime": {
          "type": "string",
          "format": "date-time"
        },
        "duration": {
          "type": "number",
          "description": "The duration of the task in seconds."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this task."
        }
      },
      "required": ["name", "status", "dueDate", "userId"]
    },
    "report": {
        "title": "Performance Report",
        "description": "A performance report generated by a user.",
        "type": "object",
        "properties": {
            "title": {
                "type": "string",
                "description": "The title of the report."
            },
            "content": {
                "type": "string",
                "description": "The full content of the report."
            },
            "date": {
                "type": "string",
                "format": "date-time",
                "description": "The date the report was created."
            },
            "userId": {
                "type": "string",
                "description": "The ID of the user who created this report."
            }
        },
        "required": ["title", "content", "date", "userId"]
    },
    "clientLead": {
        "title": "Client Lead",
        "description": "Represents a single prospective client.",
        "type": "object",
        "properties": {
            "name": { "type": "string" },
            "company": { "type": "string" },
            "email": { "type": "string" },
            "phone": { "type": "string" },
            "service": { "type": "string" },
            "status": { "type": "string", "enum": ["New", "Contacted", "Qualified", "Proposal Sent", "Negotiation", "Won", "Lost"] }
        },
        "required": ["name", "company", "email", "phone", "service", "status"]
    },
    "marketingContent": {
        "title": "Marketing Content",
        "description": "Represents an AI-generated and approved piece of marketing content.",
        "type": "object",
        "properties": {
            "blogTitle": { "type": "string" },
            "blogOutline": { "type": "string" },
            "socialMediaPost": { "type": "string" },
            "emailSubject": { "type": "string" },
            "scheduledAt": { "type": "string", "format": "date-time" },
            "recipients": { "type": "array", "items": { "type": "string" } },
            "approvedAt": { "type": "string", "format": "date-time" }
        },
        "required": ["blogTitle", "blogOutline", "socialMediaPost", "emailSubject", "approvedAt"]
    },
    "client": {
      "title": "SaaS Client",
      "description": "Represents a single SaaS client who signed up through the wizard.",
      "type": "object",
      "properties": {
        "companyName": { "type": "string" },
        "email": { "type": "string" },
        "firebaseConfig": { "type": "object" },
        "domain": { "type": "string" },
        "setupProgress": {
          "type": "object",
          "properties": {
            "step1": { "type": "boolean" },
            "step2": { "type": "boolean" },
            "step3": { "type": "boolean" }
          }
        },
        "createdAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["active", "pending"] }
      },
      "required": ["companyName", "email", "domain", "createdAt", "status"]
    },
    "adminProfile": {
      "title": "Admin Profile",
      "description": "Represents a super administrator of the SaaS platform.",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "role": { "type": "string", "const": "admin" }
      },
      "required": ["name", "role"]
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/userProfile" },
      "description": "Stores individual user profile data."
    },
    "/messages/{messageId}": {
        "schema": { "$ref": "#/entities/chatMessage" },
        "description": "Stores all chat messages."
    },
    "/calls/{callId}": {
      "schema": { "$ref": "#/entities/call" },
      "description": "Stores call signaling documents for real-time communication."
    },
    "/chats/{userId}": {
        "schema": { "$ref": "#/entities/activeChats" },
        "description": "Document tracking active chat IDs for a specific user."
    },
    "/users/{userId}/todos/{todoId}": {
      "schema": { "$ref": "#/entities/todo" },
      "description": "Stores to-do items for a specific user."
    },
    "/users/{userId}/reports/{reportId}": {
        "schema": { "$ref": "#/entities/report" },
        "description": "Stores performance reports for a specific user."
    },
    "/clientLeads/{leadId}": {
        "schema": { "$ref": "#/entities/clientLead" },
        "description": "Stores all client leads for the organization."
    },
    "/marketingContent/{contentId}": {
        "schema": { "$ref": "#/entities/marketingContent" },
        "description": "Stores all approved marketing content."
    },
    "/clients/{clientId}": {
      "schema": { "$ref": "#/entities/client" },
      "description": "Stores documents for each SaaS client."
    },
    "/admins/{adminId}": {
      "schema": { "$ref": "#/entities/adminProfile" },
      "description": "Stores profiles for super administrators."
    }
  }
}
