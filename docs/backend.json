
{
  "entities": {
    "userProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "role": {
          "type": "string",
          "description": "The user's role in the organization."
        },
        "department": {
          "type": "string",
          "description": "The department the user belongs to."
        },
        "status": {
          "type": "string",
          "description": "The user's current status (e.g., 'online', 'offline', 'last seen...')."
        },
        "country": {
            "type": "string",
            "description": "The country the user is located in."
        },
        "branch": {
            "type": "string",
            "description": "The specific branch or office the user works from."
        }
      },
      "required": ["name", "role", "department", "status"]
    },
    "chatMessage": {
      "title": "Chat Message",
      "description": "Represents a single message in a chat conversation.",
      "type": "object",
      "properties": {
        "senderId": {
          "type": "string"
        },
        "recipientId": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "readStatus": {
          "type": "string",
          "enum": ["sent", "delivered", "read"]
        },
        "isSystem": {
            "type": "boolean"
        },
        "type": {
            "type": "string",
            "enum": ["text", "audio", "image", "file"]
        },
        "audioUrl": { "type": "string" },
        "audioDuration": { "type": "number" },
        "imageUrls": {
            "type": "array",
            "items": { "type": "string" }
        },
        "fileName": { "type": "string" },
        "fileUrl": { "type": "string" },
        "replyTo": { "type": "string" },
        "callType": {
            "type": "string",
            "enum": ["video", "voice"]
        }
      },
      "required": ["senderId", "recipientId", "content", "timestamp", "type"]
    },
    "activeChats": {
        "title": "Active Chats",
        "description": "A document to track which chat conversations are active.",
        "type": "object",
        "properties": {
            "ids": {
                "type": "array",
                "items": { "type": "string" }
            }
        },
        "required": ["ids"]
    },
    "todo": {
      "title": "To-Do Item",
      "description": "Represents a single to-do item or task for a user.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name or title of the task."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the task."
        },
        "status": {
          "type": "string",
          "enum": ["Pending", "In Progress", "Completed"]
        },
        "dueDate": {
          "type": "string",
          "format": "date"
        },
        "startTime": {
          "type": "string",
          "format": "date-time"
        },
        "endTime": {
          "type": "string",
          "format": "date-time"
        },
        "duration": {
          "type": "number",
          "description": "The duration of the task in seconds."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this task."
        }
      },
      "required": ["name", "status", "dueDate", "userId"]
    },
    "report": {
        "title": "Performance Report",
        "description": "A performance report generated by a user.",
        "type": "object",
        "properties": {
            "title": {
                "type": "string",
                "description": "The title of the report."
            },
            "content": {
                "type": "string",
                "description": "The full content of the report."
            },
            "date": {
                "type": "string",
                "format": "date-time",
                "description": "The date the report was created."
            },
            "userId": {
                "type": "string",
                "description": "The ID of the user who created this report."
            }
        },
        "required": ["title", "content", "date", "userId"]
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/userProfile" },
      "description": "Stores individual user profile data."
    },
    "/messages/{messageId}": {
        "schema": { "$ref": "#/entities/chatMessage" },
        "description": "Stores all chat messages."
    },
    "/chats/{userId}": {
        "schema": { "$ref": "#/entities/activeChats" },
        "description": "Document tracking active chat IDs for a specific user."
    },
    "/users/{userId}/todos/{todoId}": {
      "schema": { "$ref": "#/entities/todo" },
      "description": "Stores to-do items for a specific user."
    },
    "/users/{userId}/reports/{reportId}": {
        "schema": { "$ref": "#/entities/report" },
        "description": "Stores performance reports for a specific user."
    }
  }
}
